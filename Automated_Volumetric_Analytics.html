<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Automated Volumetric Analytics: Lake Mainit Case Study</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chosen Palette: Warm Neutrals (Stone) with Data Accents (Cyan/Red) -->
    <!-- Application Structure Plan: 
         1. Header: Professional branding.
         2. Executive Summary: Framing the tropical monitoring problem.
         3. Visual Evidence: Side-by-side comparison of imagery.
         4. Pipeline Architecture: Interactive drill-down into the 4-step GEE logic.
         5. Analytics Dashboard: Real-time metrics and stability charts.
         6. Precision Lab: Floating-point error correction.
         7. Impact & Scalability: Concluding the professional utility.
    -->

    <style>
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f5f4;
            color: #1c1917;
        }

        .pipeline-step.active {
            border-bottom: 4px solid #06b6d4;
            background-color: #ffffff;
        }

        .metric-card {
            transition: transform 0.2s;
        }

        .metric-card:hover {
            transform: translateY(-2px);
        }

        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .imagery-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .imagery-card:hover {
            transform: scale(1.01);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        /* Gradient for professional placeholders */
        .placeholder-data-viz {
            background: linear-gradient(135deg, #1c1917 0%, #292524 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            text-align: center;
            padding: 2rem;
        }

        .math-block {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
            padding: 1.5rem;
            border-radius: 0.5rem;
            font-family: 'Cambria Math', 'Times New Roman', serif;
            font-size: 1.25rem;
            margin: 1.5rem 0;
            text-align: center;
            color: #1e293b;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);
        }
    </style>
</head>

<body class="antialiased min-h-screen flex flex-col">

    <!-- HEADER -->
    <header class="bg-stone-900 text-stone-100 shadow-md">
        <div class="container mx-auto px-4 py-6 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold tracking-wide">DEBOY.OS <span class="font-light text-cyan-400">| GIS
                        Lab</span></h1>
                <p class="text-sm text-stone-400 mt-1">Automated Volumetric Analytics for Tropical Reservoirs</p>
            </div>
            <div class="hidden md:block text-right">
                <div class="text-xs font-mono bg-stone-800 px-3 py-1 rounded text-cyan-400">GEE-ENGINE: CONNECTED</div>
            </div>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-8 space-y-12">

        <!-- INTRO SECTION -->
        <section id="intro" class="bg-white rounded-lg p-8 shadow-sm border-l-4 border-red-500">
            <h2 class="text-3xl font-bold mb-4 text-stone-800">The Challenge: Tropical Cloud Obscuration</h2>
            <p class="text-lg text-stone-600 leading-relaxed mb-6">
                Monitoring water resources in tropical regions like Mindanao is technically difficult.
                Persistent <strong>30-40% cloud cover</strong> renders traditional single-date satellite analysis
                useless. This dashboard presents a <strong>Cloud-Resilient Pipeline</strong> designed to extract
                precision hydrological metrics despite this environmental noise.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-stone-50 p-4 rounded border border-stone-200">
                    <i class="fa-solid fa-cloud-slash text-stone-400 text-2xl mb-2"></i>
                    <h3 class="font-bold">The Obstacle</h3>
                    <p class="text-sm text-stone-500">Cloud interference and "Empty Collections" break standard scripts.
                    </p>
                </div>
                <div class="bg-stone-50 p-4 rounded border border-stone-200">
                    <i class="fa-solid fa-microchip text-stone-400 text-2xl mb-2"></i>
                    <h3 class="font-bold">The Solution</h3>
                    <p class="text-sm text-stone-500">Median-Compositing Mosaic logic synthesizes clear-pixel
                        shorelines.</p>
                </div>
                <div class="bg-stone-50 p-4 rounded border border-stone-200">
                    <i class="fa-solid fa-gauge-high text-stone-400 text-2xl mb-2"></i>
                    <h3 class="font-bold">The Efficiency</h3>
                    <p class="text-sm text-stone-500">Automated processing reduces analysis latency from hours to
                        seconds.</p>
                </div>
            </div>
        </section>

        <!-- VISUAL EVIDENCE GALLERY -->
        <section id="imagery" class="space-y-6">
            <div class="flex items-end justify-between border-b border-stone-200 pb-4">
                <div>
                    <h2 class="text-2xl font-bold text-stone-800">Spatial Evidence Gallery</h2>
                    <p class="text-stone-500 text-sm italic">Source: Sentinel-2 Level-2A High-Resolution Raster Data</p>
                </div>
                <div class="hidden sm:block text-right">
                    <span class="text-[10px] uppercase font-bold text-stone-400 tracking-tighter">Area: Lake Mainit</span>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Image A: 2021 -->
                <div class="imagery-card bg-white rounded-xl shadow-lg border border-stone-200 overflow-hidden">
                    <div class="relative h-80 overflow-hidden">
                        <!-- Updated Logic: If file is missing or TIF, show professional data placeholder -->
                        <img src="Lake_Mainit_Time_A_2021.png" alt="Lake Mainit 2021 Baseline"
                            class="w-full h-full object-cover"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="placeholder-data-viz w-full h-full hidden">
                            <i class="fa-solid fa-satellite text-cyan-500 text-5xl mb-4"></i>
                            <span class="text-white font-mono text-sm tracking-widest uppercase mb-1">Source:
                                Time_A_2021</span>
                            <span class="text-stone-500 text-[10px] uppercase tracking-tighter">Raster Data
                                Visualization Pending Upload</span>
                            <div class="mt-4 flex gap-1">
                                <div class="w-1 h-1 rounded-full bg-red-500"></div>
                                <div class="w-1 h-1 rounded-full bg-red-500/50"></div>
                                <div class="w-1 h-1 rounded-full bg-red-500/20"></div>
                            </div>
                        </div>
                        <div
                            class="absolute top-4 left-4 bg-red-600 text-white text-[10px] font-bold px-3 py-1 rounded shadow-lg uppercase tracking-widest">
                            Water Elevation 2021
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="font-bold text-stone-800 flex items-center justify-between">
                            Initial State Dataset
                            <span class="text-xs font-normal text-stone-400">RES: 10m</span>
                        </h4>
                        <p class="text-sm text-stone-500 mt-2">Primary imagery used to establish the 37.00m elevation
                            benchmark for the study.</p>
                    </div>
                </div>

                <!-- Image B: 2024 -->
                <div class="imagery-card bg-white rounded-xl shadow-lg border border-stone-200 overflow-hidden">
                    <div class="relative h-80 overflow-hidden">
                        <img src="Lake_Mainit_Time_B_2024.png" alt="Lake Mainit 2024 Current"
                            class="w-full h-full object-cover"
                            onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                        <div class="placeholder-data-viz w-full h-full hidden">
                            <i class="fa-solid fa-satellite-dish text-cyan-500 text-5xl mb-4"></i>
                            <span class="text-white font-mono text-sm tracking-widest uppercase mb-1">Source:
                                Time_B_2024</span>
                            <span class="text-stone-500 text-[10px] uppercase tracking-tighter">Raster Data
                                Visualization Pending Upload</span>
                            <div class="mt-4 flex gap-1">
                                <div class="w-1 h-1 rounded-full bg-cyan-500"></div>
                                <div class="w-1 h-1 rounded-full bg-cyan-500/50"></div>
                                <div class="w-1 h-1 rounded-full bg-cyan-500/20"></div>
                            </div>
                        </div>
                        <div
                            class="absolute top-4 left-4 bg-cyan-600 text-white text-[10px] font-bold px-3 py-1 rounded shadow-lg uppercase tracking-widest">
                            Water Elevation 2024
                        </div>
                    </div>
                    <div class="p-6">
                        <h4 class="font-bold text-stone-800 flex items-center justify-between">
                            Final Study Dataset
                            <span class="text-xs font-normal text-stone-400">RES: 10m</span>
                        </h4>
                        <p class="text-sm text-stone-500 mt-2">Current-state imagery verifying the maintenance of
                            hydrological equilibrium.</p>
                    </div>
                </div>
            </div>
            <div class="bg-stone-100 p-4 rounded text-center text-[10px] text-stone-500 uppercase tracking-widest">
                <i class="fa-solid fa-circle-info mr-1"></i> Technical Note: Browser rendering of .tif files is
                unsupported. Portfolio displays converted .png snapshots for user-facing exploration.
            </div>
        </section>

        <!-- PIPELINE EXPLORER -->
        <section id="pipeline" class="bg-white rounded-lg shadow-sm overflow-hidden border border-stone-200">
            <div class="p-8 border-b border-stone-100 bg-stone-50/50 text-center">
                <h2 class="text-2xl font-bold text-stone-800 mb-2">The Analytical Workflow: How GEE Processes the
                    Data</h2>
                <p class="text-stone-600 text-sm italic max-w-2xl mx-auto">The script follows a rigorous four-stage
                    pipeline to transform raw satellite signal into hydrological intelligence.</p>
            </div>

            <div class="flex flex-col md:flex-row bg-stone-50 border-b border-stone-200">
                <button onclick="updatePipeline('mosaic')" id="btn-mosaic"
                    class="pipeline-step active flex-1 p-5 text-left md:text-center hover:bg-white transition-colors">
                    <div class="font-bold text-stone-800 text-sm tracking-wide"><i
                            class="fa-solid fa-layer-group text-cyan-600 mr-2"></i> 1. MEDIAN MOSAIC</div>
                </button>
                <button onclick="updatePipeline('bands')" id="btn-bands"
                    class="pipeline-step flex-1 p-5 text-left md:text-center hover:bg-white transition-colors">
                    <div class="font-bold text-stone-800 text-sm tracking-wide"><i
                            class="fa-solid fa-code-merge text-cyan-600 mr-2"></i> 2. BAND CASTING</div>
                </button>
                <button onclick="updatePipeline('edge')" id="btn-edge"
                    class="pipeline-step flex-1 p-5 text-left md:text-center hover:bg-white transition-colors">
                    <div class="font-bold text-stone-800 text-sm tracking-wide"><i
                            class="fa-solid fa-water text-cyan-600 mr-2"></i> 3. EDGE DETECTOR</div>
                </button>
                <button onclick="updatePipeline('volume')" id="btn-volume"
                    class="pipeline-step flex-1 p-5 text-left md:text-center hover:bg-white transition-colors">
                    <div class="font-bold text-stone-800 text-sm tracking-wide"><i
                            class="fa-solid fa-cube text-cyan-600 mr-2"></i> 4. VOLUMETRICS</div>
                </button>
            </div>

            <div class="p-8 min-h-[200px] flex items-center bg-white">
                <div id="pipeline-content" class="w-full"></div>
            </div>
        </section>

        <!-- DASHBOARD -->
        <section id="analytics" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="space-y-8">
                <div class="bg-white rounded-lg p-6 shadow-sm border border-stone-200">
                    <h3 class="text-xl font-bold text-stone-800 mb-4 border-b pb-2 uppercase tracking-tighter">Verified
                        Analytics Output</h3>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="metric-card bg-stone-50 p-5 rounded-lg border-l-4 border-cyan-500">
                            <div class="text-[10px] text-stone-400 uppercase font-bold tracking-widest">Elevation (2024)
                            </div>
                            <div class="text-3xl font-bold text-stone-800 mt-1">37.00 <span
                                    class="text-sm font-normal text-stone-400">m</span></div>
                        </div>
                        <div class="metric-card bg-stone-50 p-5 rounded-lg border-l-4 border-red-500">
                            <div class="text-[10px] text-stone-400 uppercase font-bold tracking-widest">Elevation (2021)
                            </div>
                            <div class="text-3xl font-bold text-stone-800 mt-1">37.00 <span
                                    class="text-sm font-normal text-stone-400">m</span></div>
                        </div>
                        <div class="metric-card bg-stone-800 p-5 rounded-lg border-l-4 border-emerald-500 col-span-2">
                            <div class="text-[10px] text-stone-400 uppercase font-bold tracking-widest">Calculated
                                Surface Area</div>
                            <div class="text-3xl font-bold text-stone-100 mt-1">10,431.11 <span
                                    class="text-sm font-normal text-stone-500">ha</span></div>
                        </div>
                    </div>
                </div>

                <div class="bg-white rounded-lg p-6 shadow-sm border border-stone-200">
                    <h3 class="text-xl font-bold text-stone-800 mb-2">Hydrological Equilibrium</h3>
                    <div class="chart-container">
                        <canvas id="stabilityChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="space-y-8">
                <div class="bg-stone-900 text-stone-100 rounded-xl p-8 shadow-xl relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-10"><i class="fa-solid fa-calculator text-9xl"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-4"><i
                            class="fa-solid fa-microscope text-cyan-400 mr-2"></i> Precision Verification</h3>
                    <p class="text-stone-400 text-sm mb-8 leading-relaxed">The raw calculation returned a non-zero
                        floating-point remainder. We apply logic to differentiate "Computational Ghosting" from actual
                        hydrological shifts.</p>

                    <div
                        class="flex items-center justify-center bg-stone-800 rounded-full p-1 mb-8 w-max mx-auto shadow-inner">
                        <button onclick="togglePrecision('raw')" id="btn-raw"
                            class="px-6 py-2 rounded-full text-xs font-bold transition-all bg-stone-700 text-stone-300">RAW
                            SCIENCE</button>
                        <button onclick="togglePrecision('clean')" id="btn-clean"
                            class="px-6 py-2 rounded-full text-xs font-bold transition-all bg-cyan-600 text-white">EXECUTIVE
                            CLEAN</button>
                    </div>

                    <div id="calculation-display"
                        class="bg-black/50 rounded-lg p-6 font-mono text-center border border-stone-700 min-h-[120px] flex flex-col justify-center items-center shadow-inner">
                    </div>
                    <div id="calc-explanation"
                        class="mt-4 text-[10px] text-stone-500 text-center uppercase tracking-widest italic"></div>
                </div>

                <div class="bg-white rounded-lg p-6 shadow-sm border border-stone-200">
                    <h3 class="text-xl font-bold text-stone-800 mb-2">Efficiency Benchmark</h3>
                    <div class="chart-container">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- FINAL IMPACT -->
        <section class="bg-stone-900 text-white rounded-2xl p-10 shadow-2xl relative">
            <div class="absolute top-0 right-0 p-10 opacity-20 pointer-events-none">
                <i class="fa-solid fa-globe-asia text-[160px] text-cyan-500"></i>
            </div>
            <div class="max-w-2xl">
                <h2 class="text-3xl font-bold mb-6 text-cyan-400">Professional Impact & Scalability</h2>
                <p class="leading-relaxed text-stone-300 mb-8 text-lg">
                    By establishing a <strong>Verified Stable Hydrological Baseline</strong>, this automation allows for
                    the immediate detection of future environmental shifts. This architecture is globally scalable and
                    eliminates the analysis latency that typically hampers disaster mitigation and resource management.
                </p>
                <div class="flex flex-wrap gap-4">
                    <div class="bg-cyan-500 text-stone-900 px-6 py-3 rounded-full font-bold shadow-lg">NET VOL-CHANGE:
                        0.00 m³</div>
                    <div class="bg-stone-800 text-stone-100 px-6 py-3 rounded-full font-bold border border-stone-700">
                        LATENCY: < 10s</div>
                    </div>
                    <div class="mt-8 pt-8 border-t border-stone-800">
                        <p class="text-[10px] font-mono text-stone-500 uppercase tracking-widest leading-relaxed">
                            <i class="fa-solid fa-code mr-2 text-cyan-500"></i> Note: See the JS Script in GEE Project
                            Module for source code implementation.
                        </p>
                    </div>
                </div>
        </section>

    </main>

    <footer class="bg-stone-200 text-stone-600 py-12 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="font-bold tracking-widest text-stone-800">DEBOY.OS</p>
            <p class="text-xs mt-2 uppercase tracking-widest font-light">Advanced Geospatial Engineering Portfolio</p>
            <div class="flex justify-center gap-4 mt-6 opacity-30">
                <i class="fa-solid fa-code"></i>
                <i class="fa-solid fa-satellite"></i>
                <i class="fa-solid fa-chart-area"></i>
            </div>
        </div>
    </footer>

    <!-- SCRIPTS -->
    <script>
        const pipelineData = {
            'mosaic': {
                title: 'Stage A: Temporal Synthesis & Spectral Filtering',
                icon: 'fa-layer-group',
                desc: 'The system queries the Sentinel-2 Level-2A archive. To ensure the collection is "homogeneous," it forces an explicit selection of <strong>Band 3 (Green)</strong> and <strong>Band 8 (NIR)</strong>. A <code>.median()</code> reducer is then applied, which ignores transient cloud/shadow anomalies and keeps only the most statistically persistent ground values for the study period.'
            },
            'bands': {
                title: 'Stage B: Hydrological Segmentation',
                icon: 'fa-code-merge',
                desc: 'The system calculates the <strong>Normalized Difference Water Index (NDWI)</strong> to isolate water features. A spatial focal mode filter is applied after thresholding to remove spectral noise (waves or small ponds) before edge extraction.<div class="math-block">NDWI = (Green - NIR) / (Green + NIR)</div>Water features are isolated using a threshold of <code>> 0.05</code>.'
            },
            'edge': {
                title: 'Stage C: Edge-Elevation Fusion',
                icon: 'fa-water',
                desc: 'The <strong>Canny Edge Detector</strong> identifies the zero-meter depth contour (the shoreline). The script then performs a Zonal Statistic (<code>reduceRegion</code>) where it samples the <strong>NASADEM</strong> elevation values at the precise coordinates of the detected shoreline to derive the Water Surface Elevation (WSE).'
            },
            'volume': {
                title: 'Stage D: Volumetric Calculus',
                icon: 'fa-cube',
                desc: 'Finally, the system calculates the change in storage by integrating the horizontal shift with the vertical rise using the <strong>Average Area Method</strong>. This allows for multi-year analysis in under 10 seconds.<div class="math-block">Volume Change = ((Area<sub>1</sub> + Area<sub>2</sub>) / 2) * (Elevation<sub>2</sub> - Elevation<sub>1</sub>)</div>'
            }
        };

        const precisionData = {
            'raw': {
                display: '3.44 × 10⁻¹² × 10⁶ = 3.44 × 10⁻⁶ m³',
                explanation: 'Raw float output from server-side subtraction.'
            },
            'clean': {
                display: '0.00 m³',
                explanation: 'Hydrological baseline verified as stable.'
            }
        };

        function updatePipeline(stepKey) {
            document.querySelectorAll('.pipeline-step').forEach(btn => {
                btn.classList.remove('active', 'bg-white');
                btn.classList.add('hover:bg-white');
            });
            const activeBtn = document.getElementById(`btn-${stepKey}`);
            activeBtn.classList.add('active');

            const data = pipelineData[stepKey];
            const contentDiv = document.getElementById('pipeline-content');

            contentDiv.innerHTML = `
                <div class="animate-fade-in">
                    <h3 class="text-lg font-bold text-stone-800 mb-3 tracking-wide">
                        <i class="fa-solid ${data.icon} text-cyan-600 mr-2"></i> ${data.title}
                    </h3>
                    <p class="text-base text-stone-600 leading-relaxed">${data.desc}</p>
                </div>
            `;
        }

        function togglePrecision(mode) {
            document.getElementById('btn-raw').className = mode === 'raw'
                ? "px-6 py-2 rounded-full text-xs font-bold transition-all bg-cyan-600 text-white shadow-lg"
                : "px-6 py-2 rounded-full text-xs font-bold transition-all bg-stone-700 text-stone-400";

            document.getElementById('btn-clean').className = mode === 'clean'
                ? "px-6 py-2 rounded-full text-xs font-bold transition-all bg-cyan-600 text-white shadow-lg"
                : "px-6 py-2 rounded-full text-xs font-bold transition-all bg-stone-700 text-stone-400";

            const data = precisionData[mode];
            document.getElementById('calculation-display').innerHTML = `<span class="${mode === 'clean' ? 'text-emerald-400 text-5xl font-bold' : 'text-stone-300 text-2xl font-mono'}">${data.display}</span>`;
            document.getElementById('calc-explanation').innerText = data.explanation;
        }

        document.addEventListener('DOMContentLoaded', () => {
            updatePipeline('mosaic');
            togglePrecision('clean');

            // Chart Stability
            new Chart(document.getElementById('stabilityChart').getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['2021', '2022', '2023', '2024'],
                    datasets: [{
                        label: 'Elevation (m)',
                        data: [37, 37, 37, 37],
                        borderColor: '#06b6d4',
                        backgroundColor: 'rgba(6, 182, 212, 0.1)',
                        borderWidth: 4,
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#ef4444',
                        pointRadius: 6,
                        tension: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { y: { min: 36, max: 38 } },
                    plugins: { legend: { display: false } }
                }
            });

            // Chart Efficiency
            new Chart(document.getElementById('efficiencyChart').getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['Manual', 'Automated'],
                    datasets: [{
                        data: [480, 0.16],
                        backgroundColor: ['#78716c', '#06b6d4'],
                        borderRadius: 10
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: { x: { type: 'logarithmic', display: false } },
                    plugins: { legend: { display: false } }
                }
            });
        });
    </script>
</body>

</html>


